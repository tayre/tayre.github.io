<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" type="text/css" href="../css/style.css"/>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title>JavaScript: The Good Parts</title>
        <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
        <script type="text/javascript" src="../js/onload.js"></script>
    </head>
    <body>
        <pre id="output">
            
        </pre>
        <div id="container">
            <H1>Functions</H1>
            <h2>The Function Inovocation Pattern</h2>
            <div>
                When a function is not the property of an object, then it is invoked as a function. When a function is invoked with this patter, this is bound to the global object.
            </div>
            <pre>
			
			var add=function(a,b) {
			return a + b;
			}
			var sum=add(3,4); // sum is 7
			print(sum);
			
		</pre>
            <h2>The Constructor Invocation Pattern</h2>
            <pre>
    	
		var Quo=function(string) {
			this.status=string;
		};    
		
		Quo.prototype.get_status=function() {
			return this.status;
		};
	
		// Make an isntance of Quo
		var myQuo=new Quo("confused");
		
		print(myQuo.get_status());
				
        </pre>
            <pre>
        
		(function runme() {
			console.log("hello");
		})();	
			
        </pre>
            <h2>Argument</h2>
            <div>
                A bonus paramter that is available to functions when they are invoked is the <em>arguments</em>
                array. This makes it possible to write functions that take an unspecified number of parameters.
            </div>
            <pre>
			function sum() {
				var i; sum=0;
				for (i=0; i < arguments.length; i++) {
					sum +=arguments[i];
				}
				return sum;
			}
			
			print(sum(4,8,15,16,23,42)); // 108
			
		</pre>
            <div>
                A function always returns a value. If the <em>return</em>
                value is not specified then <em>undefined</em>
                is returned.
            </div>
            <pre>
			function foo(a,b) {
				//do nothing useful
			};
			print(foo());
		</pre>
            <h2>Exceptions</h2>
            <pre>
			var add=function(a, b) {
				if(typeof a !=="number" || typeof b !=="number") {
					throw {
						name: "TypeError",
						message: "parameters must be numbers"
					};
				}
				return a+b;
			}
			
			(function try_it(){
			
				try {
					add("seven", "six");
				}
				catch(e) {
					print(e.name + ": " + e.message);
				}
			
			})();
			
		</pre>
            <h2>Augmenting Types</h2>
            <div>
                Extract just the integer part of a number.
            </div>
            <pre>
			Number.prototype.integer=function() {
				return (this < 0) ? Math.ceil(this): Math.floor(this);
			}
			print((-10/3).integer());
		</pre>
            <div>
                Remove spaces from the ends of a string.
            </div>
            <pre>
			String.prototype.trim=function() {
				return this.replace(/^\s+|\s+$/g, "");
			}
			var s="\thello world";
			print(s);
			print(s.trim());
		</pre>
        </div>
    </body>
</html>
